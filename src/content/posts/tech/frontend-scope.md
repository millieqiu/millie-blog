---
title: æˆ‘æƒ³ä¸€æ¬¡ææ‡‚ï¼JavaScript ES6 çš„ä½œç”¨åŸŸ
pubDate: 2024-06-13
# description: A simple example of a Markdown blog post.
# image: './images/var-const-let.png'
tags: ['JavaScript']
categories: ['Frontend', 'JavaScript']
# draft: false
---

# ä½œç”¨åŸŸï¼ˆScopeï¼‰

ä½œç”¨åŸŸç°¡å–®ä¾†èªªå¯ä»¥æƒ³æˆæ˜¯ã€Œè®Šæ•¸çš„å­˜æ´»ç¯„åœã€æœ‰æ•ˆç¯„åœã€ï¼Œè¶…å‡ºå…¶è‡ªèº«ä½œç”¨åŸŸçš„å‡½æ•¸ï¼Œå°±ç„¡æ³•è¢«å­˜å–æˆ–è¨ªå•ã€‚


JavaScript çš„ä½œç”¨åŸŸåˆ†ç‚ºä¸‰ç¨®ï¼Œæˆ‘å€‘å°‡åˆ†åˆ¥ä¸€ä¸€ä¾†è¬›è¿°ï¼š

- å…¨åŸŸä½œç”¨åŸŸï¼ˆGlobal Scopeï¼‰
- å‡½å¼ä½œç”¨åŸŸï¼ˆFunction Scopeï¼‰
- å€å¡Šä½œç”¨åŸŸï¼ˆBlock Scopeï¼‰

## ä¸€ã€å…¨åŸŸä½œç”¨åŸŸ

æ˜¯ JavaScript ä¸­**æœ€å¤–å±¤**çš„ä½œç”¨åŸŸï¼Œèƒ½å¤ åœ¨ç¨‹å¼ç¢¼ä¸­çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨ã€‚

```javascript
let a = 10; // åœ¨å…¨åŸŸä½œç”¨åŸŸåº•ä¸‹çš„è®Šæ•¸ a å³æ˜¯æ‰€è¬‚çš„ã€Œå…¨åŸŸè®Šæ•¸ã€
function useFunc() {
    a = a + 1; // åœ¨å‡½å¼å…§ä¹Ÿèƒ½å¤ å­˜å–è®Šæ•¸ a
}
useFunc();
console.log(a); // 11
```

## äºŒã€å‡½å¼ä½œç”¨åŸŸ

åœ¨å‡½å¼å…§å®£å‘Šçš„è®Šæ•¸ï¼Œçš†å±¬æ–¼ã€Œå‡½å¼ä½œç”¨åŸŸã€çš„ç¯„åœï¼Œè‹¥åœ¨å‡½å¼ä»¥å¤–çš„åœ°æ–¹æƒ³å­˜å–è©²è®Šæ•¸çš„è©±ï¼Œå‰‡ç‚ºæ‹‹å‡ºéŒ¯èª¤ã€‚

```javascript
function useFunc() {
 let a = 10;
}
console.log(a); // Uncaught ReferenceError: a is not defined
```

## ä¸‰ã€å€å¡Šä½œç”¨åŸŸ

å€å¡Šä½œç”¨åŸŸæ˜¯ ES6 ä¹‹å¾Œç™¼å±•å‡ºä¾†çš„æ–°ä½œç”¨åŸŸã€‚åœ¨é€™é‚Šã€Œå€å¡Šã€çš„å®šç¾©æ˜¯æŒ‡ä¾‹å¦‚ `for` æˆ– `if` æ™‚æ‰€ç”¨åˆ°çš„èŠ±æ‹¬è™Ÿ `{}` åŒ…èµ·ä¾†çš„ç¯„åœã€‚

```javascript
function useFunc() {
	if (true) {
  	let a = 10;
  }
  console.log(a); // åœ¨å€å¡Šä½œç”¨åŸŸä»¥å¤–ç„¡æ³•å­˜å– a è®Šæ•¸
}

useFunc(); // Uncaught ReferenceError: a is not defined
```

è¦ç‰¹åˆ¥æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰ç”± `let` åŠ `const` æ‰€å®£å‘Šçš„è®Šæ•¸æ‰æœƒå—åˆ°é€™å€‹ä½œç”¨åŸŸçš„ç¯„åœé™åˆ¶ï¼Œè‹¥åœ¨å€å¡Šå…§ä½¿ç”¨ `var` å®£å‘Šçš„è©±å‰‡ä¸å—æ­¤é™ã€‚ï¼ˆé€™ä¹Ÿæ˜¯ç‚ºä»€éº¼æœƒå»ºè­°ä½¿ç”¨ `let` è·Ÿ `const` ä¾†å®£å‘Šè®Šæ•¸ï¼Œå› ç‚ºä½¿ç”¨ `var` å®¹æ˜“é€ æˆè®Šæ•¸çš„æ±¡æŸ“ï¼‰

æ”¹å¯«å‰›å‰›ä¸Šé¢çš„ä¾‹å­ï¼ŒæŠŠ `let` æ›æˆ `var` çš„è©±ï¼Œçµæœå‰‡æœƒå¦‚ä¸‹ï¼š

```javascript
function useFunc() {
	if (true) {
  	var a = 10;
  }
  console.log(a); // var å®£å‘Šçš„è®Šæ•¸ä¸æ”¯æ´å€å¡Šä½œç”¨åŸŸ
}

useFunc(); // 10
```

# ä½œç”¨åŸŸéˆï¼ˆScope Chainï¼‰

æ ¹æ“š [MDN](https://developer.mozilla.org/zh-CN/docs/Glossary/Scope) çš„å®šç¾©ï¼Œå­å±¤å¯ä»¥è¨ªå•çˆ¶å±¤ä½œç”¨åŸŸçš„è®Šæ•¸ï¼Œä½†åä¹‹å‰‡ä¸è¡Œã€‚

å› æ­¤ç•¶æˆ‘å€‘åœ¨å­å±¤å‘¼å«ä¸€å€‹å°šæœªè¢«å®šç¾©çš„è®Šæ•¸æ™‚ï¼ŒJavaScript å°±æœƒå¾€çˆ¶å±¤ä¸Šçš„ä½œç”¨åŸŸå»å°‹æ‰¾ï¼Œè‹¥ç›´åˆ°å…¨åŸŸä½œç”¨åŸŸé‚„æ˜¯æ²’æ‰¾åˆ°ï¼Œå‰‡æœƒæ‹‹å‡ºéŒ¯èª¤ã€‚é€™ç¨®ä¸€å±¤æ¥è‘—ä¸€å±¤ã€ç”±å…§å‘å¤–å°‹æ‰¾çš„æ¦‚å¿µï¼Œå°±æ˜¯æ‰€è¬‚çš„ã€Œä½œç”¨åŸŸéˆã€ï¼ˆScope Chainï¼‰ã€‚

```javascript
const num = 10;
function find() {
    console.log(num); // 10
}
find();
```

---

Referenceï¼š

> [MDN - Scope](https://developer.mozilla.org/zh-CN/docs/Glossary/Scope)
>
> [Javascript çš„ä½œç”¨åŸŸ (Scope) èˆ‡ä½œç”¨åŸŸéˆ (Scope Chain) æ˜¯ä»€éº¼?](https://www.explainthis.io/zh-hant/swe/what-is-scope-and-scope-chain)
>
> [[ç­†è¨˜]-JavaScript ä½œç”¨åŸŸèˆ‡ä½œç”¨åŸŸéˆæ˜¯ä»€éº¼?é—œæ–¼ä½œç”¨åŸŸçš„4å€‹è§€å¿µ](https://jianline.com/javascript-scope-and-scope-chain/)

```plaintext
æœ‰ä»»ä½•æƒ³æ³•æƒ³åˆ†äº«æˆ–å”åŠ©å‹˜èª¤ï¼Œæ­¡è¿ç•™è¨€äº¤æµæŒ‡æ•™ï¼ğŸ°
```